From 2173492d5612a3b71a7ad2d191c920ab2ee6ffbb Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Wed, 11 Dec 2024 10:24:31 +0800
Subject: [PATCH 1/2] coreaudio.cpp: restore fallbacks for 10.5

---
 alc/backends/coreaudio.cpp | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git alc/backends/coreaudio.cpp alc/backends/coreaudio.cpp
index 9e355a6a..6c973751 100644
--- alc/backends/coreaudio.cpp
+++ alc/backends/coreaudio.cpp
@@ -44,6 +44,7 @@
 
 #include <AudioUnit/AudioUnit.h>
 #include <AudioToolbox/AudioToolbox.h>
+#include <AvailabilityMacros.h>
 
 #if TARGET_OS_IOS || TARGET_OS_TV
 #define CAN_ENUMERATE 0
@@ -52,6 +53,14 @@
 #define CAN_ENUMERATE 1
 #endif
 
+#if MAC_OS_X_VERSION_MIN_REQUIRED < 1060
+#define AudioComponent Component
+#define AudioComponentDescription ComponentDescription
+#define AudioComponentFindNext FindNextComponent
+#define AudioComponentInstanceDispose CloseComponent
+#define AudioComponentInstanceNew OpenAComponent
+#endif
+
 namespace {
 
 constexpr auto OutputElement = 0;
-- 
2.47.1

